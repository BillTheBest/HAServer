<!DOCTYPE html>
<html lang="en">
<head>
    <title>Container Widget</title>
</head>
<body id="body">
<P> wwroot file </P>
this is a test
    <script src="mqtt.min.js"></script>
    <script>
        //var client = mqtt.connect('ws://test.mosquitto.org:8080/HAclient')

        var client = mqtt.connect('ws://192.168.0.111:80/HAclient')

        client.on('connect', function () {
                alert("connectedee ")
                client.subscribe('presence')
                client.publish('presence', 'Hello mqtt')
            })

        client.on('message', function (topic, message) {
            // message is Buffer
            console.log(message.toString())
            client.end()
        })

        /*var ws = new WebSocket("ws://localhost:80/HAclient");
        client.onopen = function () {
            alert("connected");
        }

        ws.onmessage = function (evt) {
            alert("Msg: " + evt.data);
        } */
    </script>
</body>
</html>